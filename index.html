<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mundo de las Tenis ‚Äî Tienda</title>
  <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- Encabezado principal -->
  <header>
    <div class="brand">Mundo de las Tenis</div>
    <div>
      <button class="btn cart-btn" id="openCartBtn">
        Carrito üõí <span id="cartCount" class="cart-count" style="display:none">0</span>
      </button>
      <a class="btn secondary" href="https://wa.me/3217430829" target="_blank" rel="noopener noreferrer">
        WhatsApp
      </a>
    </div>
  </header>

  <!-- Contenido principal -->
  <main class="container">

    <!-- Secci√≥n Hero -->
    <section class="hero">
      <div class="left">
        <img src="https://picsum.photos/1200/400?seed=tenishero" alt="Hero Mundo de las Tenis" />
        <h2>Bienvenidos ‚Äî Las mejores zapatillas al mejor precio</h2>
        <p class="small">Explora nuestra colecci√≥n y agrega al carrito. Al pagar, nos llegar√° la orden por WhatsApp.</p>
      </div>
      <aside class="right">
        <h3>Promoci√≥n</h3>
        <p class="small">Env√≠os gratis en compras mayores a $200.000</p>
        <img src="https://picsum.photos/400/240?seed=promo" alt="Promoci√≥n Mundo de las Tenis" />
      </aside>
    </section>

    <!-- Cat√°logo de productos -->
    <section>
      <h3>Cat√°logo</h3>
      <div class="grid" id="productGrid">
        <!-- Productos cargados por JavaScript -->
      </div>
    </section>

  </main>

  <!-- Modal carrito de compras -->
  <div id="cartModal" class="modal" style="display:none" role="dialog" aria-modal="true" aria-labelledby="cartTitle">
    <header>
      <strong id="cartTitle">Tu carrito</strong>
      <div>
        <button class="btn" id="closeCart" aria-label="Cerrar carrito">Cerrar</button>
      </div>
    </header>

    <div class="items" id="cartItems" tabindex="0">
      <!-- Items del carrito -->
    </div>

    <footer class="cart-footer">
      <div>
        <small>Total:</small>
        <div id="cartTotal">0</div>
      </div>

      <div>
        <button class="btn secondary" id="clearCartBtn">Vaciar</button>
        <button class="btn" id="checkoutBtn">Pagar por WhatsApp</button>
      </div>

      <div style="margin-top: 12px;">
        <input
          id="customerName"
          type="text"
          placeholder="Tu nombre"
          aria-label="Nombre del cliente"
          autocomplete="name"
        />
        <input
          id="customerAddress"
          type="text"
          placeholder="Direcci√≥n / barrio (opcional)"
          aria-label="Direcci√≥n o barrio"
          autocomplete="address-line1"
          style="margin-top: 8px;"
        />
      </div>
    </footer>
  </div>

  <!-- Script principal -->
  <script>
    // Simulaci√≥n de productos
    const productos = [
      { id: 1, nombre: "Tenis Nike Air", precio: 180000 },
      { id: 2, nombre: "Adidas Classic", precio: 150000 },
      { id: 3, nombre: "Puma Street", precio: 130000 }
    ];

    const carrito = [];

    const productGrid = document.getElementById("productGrid");
    const cartCount = document.getElementById("cartCount");
    const cartItems = document.getElementById("cartItems");
    const cartTotal = document.getElementById("cartTotal");
    const cartModal = document.getElementById("cartModal");

    // Mostrar productos
    productos.forEach(producto => {
      const card = document.createElement("div");
      card.className = "card";
      card.innerHTML = `
        <h4>${producto.nombre}</h4>
        <p>$${producto.precio.toLocaleString()}</p>
        <button class="btn" onclick="agregarAlCarrito(${producto.id})">Agregar üõçÔ∏è</button>
      `;
      productGrid.appendChild(card);
    });

    function agregarAlCarrito(id) {
      const producto = productos.find(p => p.id === id);
      const existente = carrito.find(item => item.id === id);
      if (existente) {
        existente.cantidad += 1;
      } else {
        carrito.push({ ...producto, cantidad: 1 });
      }
      actualizarCarrito();
    }

    function actualizarCarrito() {
      cartItems.innerHTML = "";
      let total = 0;
      carrito.forEach(item => {
        total += item.precio * item.cantidad;
        const div = document.createElement("div");
        div.innerHTML = `${item.nombre} x${item.cantidad} ‚Äî $${(item.precio * item.cantidad).toLocaleString()}`;
        cartItems.appendChild(div);
      });
      cartTotal.textContent = `$${total.toLocaleString()}`;
      cartCount.textContent = carrito.length;
      cartCount.style.display = carrito.length > 0 ? "inline-block" : "none";
    }

    document.getElementById("openCartBtn").addEventListener("click", () => {
      cartModal.style.display = "block";
    });

    document.getElementById("closeCart").addEventListener("click", () => {
      cartModal.style.display = "none";
    });

    document.getElementById("clearCartBtn").addEventListener("click", () => {
      carrito.length = 0;
      actualizarCarrito();
    });

    document.getElementById("checkoutBtn").addEventListener("click", () => {
      const nombre = document.getElementById("customerName").value.trim();
      const direccion = document.getElementById("customerAddress").value.trim();
      if (!nombre) {
        alert("Por favor ingresa tu nombre.");
        return;
      }
      if (carrito.length === 0) {
        alert("Tu carrito est√° vac√≠o.");
        return;
      }

      const items = carrito.map(item => `‚Ä¢ ${item.nombre} x${item.cantidad}`).join('\n');
      const total = carrito.reduce((sum, item) => sum + item.precio * item.cantidad, 0);
      const mensaje = `Hola, quiero hacer un pedido:\n\n${items}\n\nTotal: $${total.toLocaleString()}\nNombre: ${nombre}\nDirecci√≥n: ${direccion}`;
      const url = `https://wa.me/3217430829?text=${encodeURIComponent(mensaje)}`;
      window.open(url, "_blank");
    });
  </script>

</body>
</html>
